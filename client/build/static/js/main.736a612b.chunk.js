(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{225:function(e,t,a){e.exports=a(389)},389:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"getEmployee",function(){return H}),a.d(n,"createUser",function(){return J}),a.d(n,"signup",function(){return G}),a.d(n,"signin",function(){return Y}),a.d(n,"signout",function(){return q});var r=a(0),o=a.n(r),i=a(61),c=a.n(i),l=a(408),s=a(401),u=a(24),m=a(17),p=a(195),d=a(411),h=a(144),f={authenticated:"",errorMessage:"",admin:""},g=Object(m.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(console.log("action",t),t.type){case"auth_user":return Object(h.a)({},e,{authenticated:t.payload,admin:t.admin});case"auth_error":return Object(h.a)({},e,{errorMessage:t.payload});default:return e}},form:d.a}),v=a(19),b=a(20),y=a(22),E=a(21),O=a(23),j=a(412),k=a(399),w=a(407),x=a(397),S=a(405),A=a(406),C=a(398),M=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(y.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(O.a)(t,e),Object(b.a)(t,[{key:"componentWillMount",value:function(){this.setState({fixed:!0})}},{key:"renderLinks",value:function(){return this.props.authenticated?this.props.admin?o.a.createElement("div",null,o.a.createElement(x.a,{to:"/admin-feature"},o.a.createElement(S.a,{as:"a",inverted:!1,primary:!0,style:{marginLeft:"0.5em"}},"Admin Feature")),o.a.createElement(x.a,{to:"/create-user"},o.a.createElement(S.a,{as:"a",inverted:!1,primary:!0,style:{marginLeft:"0.5em"}},"Create User")),o.a.createElement(x.a,{to:"/signout"},o.a.createElement(S.a,{as:"a",inverted:!1,primary:!0,style:{marginLeft:"0.5em"}},"Sign Out"))):o.a.createElement("div",null,o.a.createElement(x.a,{to:"/feature"},o.a.createElement(S.a,{as:"a",inverted:!1,primary:!0,style:{marginLeft:"0.5em"}},"Feature")),o.a.createElement(x.a,{to:"/signout"},o.a.createElement(S.a,{as:"a",inverted:!1,primary:!0,style:{marginLeft:"0.5em"}},"Sign Out"))):o.a.createElement("div",null,o.a.createElement(x.a,{to:"/signin"},o.a.createElement(S.a,{as:"a",inverted:!1},"Sign in")))}},{key:"render",value:function(){console.log("Navbar props:",this.props);var e=this.state.fixed;return o.a.createElement(A.a,{fixed:e?"top":null,inverted:e,secondary:!e,size:"large"},o.a.createElement(C.a,null,o.a.createElement(A.a.Item,{as:"a",active:!0},o.a.createElement(x.a,{to:"/"},"Home")),o.a.createElement(A.a.Item,{position:"right"},this.renderLinks())))}}]),t}(r.Component);var I=Object(u.b)(function(e){return console.log("state",e),{authenticated:e.auth.authenticated,admin:e.auth.admin}})(M),P=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(y.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={},a.hideFixedMenu=function(){return a.setState({fixed:!1})},a.showFixedMenu=function(){return a.setState({fixed:!0})},a}return Object(O.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this.props.children;return o.a.createElement("div",null,o.a.createElement(k.a,{once:!1,onBottomPassed:this.showFixedMenu,onBottomPassedReverse:this.hideFixedMenu},o.a.createElement(w.a,{inverted:"/"===this.props.location.pathname,textAlign:"center",style:{minHeight:700,padding:"1em 0em"},vertical:!0},o.a.createElement(I,null),e)))}}]),t}(r.Component),N=Object(j.a)(P),z=a(404),W=a(403),_=a(410),F=a(409),L=a(402),D=a(47),U=a.n(D),B=a(103),T=a(112),R=a.n(T),H=function(e){return function(){var e=Object(B.a)(U.a.mark(function e(t){return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},J=function(e,t){return function(){var a=Object(B.a)(U.a.mark(function a(n){return U.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,R.a.post("http://localhost:3001/signup",e);case 3:a.sent,t(),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),n({type:"auth_error",payload:"Email in use"});case 10:case"end":return a.stop()}},a,this,[[0,7]])}));return function(e){return a.apply(this,arguments)}}()},G=function(e,t){return function(){var a=Object(B.a)(U.a.mark(function a(n){var r;return U.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,R.a.post("http://localhost:3001/signup",e);case 3:r=a.sent,n({type:"auth_user",payload:r.data.token}),localStorage.setItem("token",r.data.token),t(),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),n({type:"auth_error",payload:"Email in use"});case 12:case"end":return a.stop()}},a,this,[[0,9]])}));return function(e){return a.apply(this,arguments)}}()},Y=function(e,t){return function(){var a=Object(B.a)(U.a.mark(function a(n){var r;return U.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,R.a.post("http://localhost:3001/signin",e);case 3:r=a.sent,console.log("response from actions",r),n({type:"auth_user",payload:r.data.token,admin:r.data.admin}),localStorage.setItem("token",r.data.token),t(),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),n({type:"auth_error",payload:"Invalid login"});case 13:case"end":return a.stop()}},a,this,[[0,10]])}));return function(e){return a.apply(this,arguments)}}()},q=function(){return localStorage.removeItem("token"),{type:"auth_user",payload:""}},K=a(214),Q=a(400);function V(e){var t=e.input,a=e.type,n=e.label,r=e.placeholder,i=e.meta,c=i.touched,l=i.error,s=i.warning,u=e.as,m=void 0===u?Q.a:u,p=Object(K.a)(e,["input","type","label","placeholder","meta","as"]);return o.a.createElement(L.a.Field,null,o.a.createElement(m,Object.assign({},p,t,{value:t.value,type:a,label:n,placeholder:r,onChange:function(e,a){var n=a.value;return t.onChange(n)}})),c&&(l&&o.a.createElement("span",null,o.a.createElement("i",null,l))||s&&o.a.createElement("span",null,o.a.createElement("i",null,s))))}var X=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(y.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).onSubmit=function(e){a.props.signin(e,function(){a.props.admin?a.props.history.push("/admin-feature"):a.props.history.push("/feature")})},a}return Object(O.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){console.log("props from signin",this.props);var e=this.props.handleSubmit;return o.a.createElement("div",{className:"login-form"},o.a.createElement("style",null,"\n          body > div,\n          body > div > div,\n          body > div > div > div.login-form {\n            height: 100%;\n          }\n          .login-form {\n            padding-top: 5em\n          }\n        "),o.a.createElement(_.a,{textAlign:"center",style:{height:"100%"},verticalAlign:"middle"},o.a.createElement(_.a.Column,{style:{maxWidth:450}},o.a.createElement(F.a,{as:"h2",color:"teal",textAlign:"center"},"Sign In"),o.a.createElement(L.a,{size:"large",onSubmit:e(this.onSubmit)},o.a.createElement(w.a,{stacked:!0},o.a.createElement(z.a,{name:"email",component:V,as:L.a.Input,icon:"mail",iconPosition:"left",type:"text",placeholder:"Email"}),o.a.createElement(z.a,{name:"password",component:V,as:L.a.Input,icon:"lock",iconPosition:"left",type:"password",placeholder:"Password"}),o.a.createElement(S.a,{color:"teal",fluid:!0,size:"large"},"Sign in"))))))}}]),t}(r.Component);var Z=Object(m.d)(Object(u.b)(function(e){return{errorMessage:e.auth.errorMessage,admin:e.auth.admin}},n),Object(W.a)({form:"signin"}))(X),$=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(y.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).onSubmit=function(e){console.log(e),a.props.signup(e,function(){a.props.history.push("/feature")})},a}return Object(O.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this.props.handleSubmit;return o.a.createElement("div",{className:"login-form"},o.a.createElement("style",null,"\n        body > div,\n        body > div > div,\n        body > div > div > div.login-form {\n          height: 100%;\n        }\n        .login-form {\n          padding-top: 5em\n        }\n      "),o.a.createElement(_.a,{textAlign:"center",style:{height:"100%"},verticalAlign:"middle"},o.a.createElement(_.a.Column,{style:{maxWidth:450}},o.a.createElement(F.a,{as:"h2",color:"teal",textAlign:"center"},"Register"),o.a.createElement(L.a,{size:"large",onSubmit:e(this.onSubmit)},o.a.createElement(w.a,{stacked:!0},o.a.createElement(z.a,{name:"email",component:V,as:L.a.Input,icon:"mail",iconPosition:"left",type:"text",placeholder:"Email"}),o.a.createElement(z.a,{name:"password",component:V,as:L.a.Input,icon:"lock",iconPosition:"left",type:"password",placeholder:"Password"}),o.a.createElement(z.a,{name:"confirm-password",component:V,as:L.a.Input,icon:"lock",iconPosition:"left",type:"password",placeholder:"Confirm Password"}),o.a.createElement("div",null,this.props.errorMessage),o.a.createElement(S.a,{color:"teal",fluid:!0,size:"large"},"Submit"))))))}}]),t}(r.Component);var ee=Object(m.d)(Object(u.b)(function(e){return{errorMessage:e.auth.errorMessage}},n),Object(W.a)({form:"signup"}))($),te=function(e){function t(){return Object(v.a)(this,t),Object(y.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){this.props.signout()}},{key:"render",value:function(){return o.a.createElement("div",{style:{"padding-top":"5em"}},"You have been logged out")}}]),t}(r.Component),ae=Object(u.b)(null,n)(te),ne=function(e){var t=function(t){function a(){return Object(v.a)(this,a),Object(y.a)(this,Object(E.a)(a).apply(this,arguments))}return Object(O.a)(a,t),Object(b.a)(a,[{key:"componentDidMount",value:function(){this.shouldNavigateAway()}},{key:"componentDidUpdate",value:function(){this.shouldNavigateAway()}},{key:"shouldNavigateAway",value:function(){this.props.auth&&!0!==this.props.admin||this.props.history.push("/")}},{key:"render",value:function(){return o.a.createElement(e,this.props)}}]),a}(r.Component);return Object(u.b)(function(e){return{auth:e.auth.authenticated,admin:e.auth.admin}})(t)},re=ne(function(e){function t(){return Object(v.a)(this,t),Object(y.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{style:{paddingTop:"5em"}},"Welcome, you are logged in.")}}]),t}(r.Component)),oe=function(e){var t=function(t){function a(){return Object(v.a)(this,a),Object(y.a)(this,Object(E.a)(a).apply(this,arguments))}return Object(O.a)(a,t),Object(b.a)(a,[{key:"componentDidMount",value:function(){this.shouldNavigateAway()}},{key:"componentDidUpdate",value:function(){this.shouldNavigateAway()}},{key:"shouldNavigateAway",value:function(){this.props.auth&&this.props.admin||this.props.history.push("/")}},{key:"render",value:function(){return o.a.createElement(e,this.props)}}]),a}(r.Component);return Object(u.b)(function(e){return{auth:e.auth.authenticated,admin:e.auth.admin}})(t)},ie=oe(function(e){function t(){return Object(v.a)(this,t),Object(y.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{style:{"padding-top":"5em"}},"Welcome to the admin page.")}}]),t}(r.Component)),ce=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(y.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).onSubmit=function(e){console.log(e),a.props.createUser(e,function(){a.props.history.push("/")})},a}return Object(O.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this.props.handleSubmit;return o.a.createElement("div",{className:"login-form"},o.a.createElement("style",null,"\n        body > div,\n        body > div > div,\n        body > div > div > div.login-form {\n          height: 100%;\n        }\n        .login-form {\n          padding-top: 5em\n        }\n      "),o.a.createElement(_.a,{textAlign:"center",style:{height:"100%"},verticalAlign:"middle"},o.a.createElement(_.a.Column,{style:{maxWidth:450}},o.a.createElement(F.a,{as:"h2",color:"teal",textAlign:"center"},"Create a user"),o.a.createElement(L.a,{size:"large",onSubmit:e(this.onSubmit)},o.a.createElement(w.a,{stacked:!0},o.a.createElement(z.a,{name:"email",component:V,as:L.a.Input,icon:"mail",iconPosition:"left",type:"text",placeholder:"Email"}),o.a.createElement(z.a,{name:"password",component:V,as:L.a.Input,icon:"lock",iconPosition:"left",type:"password",placeholder:"Password"}),o.a.createElement("div",null,this.props.errorMessage),o.a.createElement(S.a,{color:"teal",fluid:!0,size:"large"},"Submit"))))))}}]),t}(r.Component);var le=Object(m.d)(Object(u.b)(function(e){return{errorMessage:e.auth.errorMessage}},n),Object(W.a)({form:"signup"}),oe)(ce),se=a(110),ue=function(e){var t=e.mobile;return o.a.createElement(C.a,{text:!0},o.a.createElement(F.a,{as:"h1",content:"Nihal Employee Recognition",inverted:!0,style:{fontSize:t?"2em":"4em",fontWeight:"normal",marginBottom:0,marginTop:t?"1.5em":"3em"}}),o.a.createElement(F.a,{as:"h2",content:"",inverted:!0,style:{fontSize:t?"1.5em":"1.7em",fontWeight:"normal",marginTop:t?"0.5em":"1.5em"}}),o.a.createElement(x.a,{to:"/signin"},o.a.createElement(S.a,{primary:!0,size:"huge"},"Get Started",o.a.createElement(se.a,{name:"right arrow"}))))},me=ne(function(e){function t(){return Object(v.a)(this,t),Object(y.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{style:{paddingTop:"5em"}},"Profile Page")}}]),t}(r.Component)),pe=Object(m.e)(g,{auth:{authenticated:localStorage.getItem("token")},admin:!1},Object(m.a)(p.a)),de=o.a.createElement(u.a,{store:pe},o.a.createElement(l.a,null,o.a.createElement(N,null,o.a.createElement(s.a,{path:"/",exact:!0,component:ue}),o.a.createElement(s.a,{path:"/signin",component:Z}),o.a.createElement(s.a,{path:"/signup",component:ee}),o.a.createElement(s.a,{path:"/signout",component:ae}),o.a.createElement(s.a,{path:"/feature",component:re}),o.a.createElement(s.a,{path:"/admin-feature",component:ie}),o.a.createElement(s.a,{path:"/create-user",component:le}),o.a.createElement(s.a,{path:"/profile",component:me}))));c.a.render(de,document.getElementById("root"))}},[[225,2,1]]]);
//# sourceMappingURL=main.736a612b.chunk.js.map